<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
			rel="stylesheet" />
		<link rel="stylesheet" href="index.css" />
		<title>Jia Ming Portfolio</title>
	</head>

	<body>
		<header class="container">
			<div class="page-header">
				<div class="logo">
					<a href="#"
						>&#128640; Jia Ming - Coding Dreams into Reality</a
					>
				</div>
				<input type="checkbox" id="click" />

				<label for="click" class="mainicon">
					<div class="menu">
						<i class="bx bx-menu"></i>
					</div>
				</label>
				<ul>
					<li>
						<a
							href="#"
							class="active"
							style="--navAni:1"
							id="homeTab"
							>Home</a
						>
					</li>
					<li><a href="#" style="--navAni:2">About</a></li>
					<li><a href="#" style="--navAni:3">Skills</a></li>
					<li><a href="#" style="--navAni:4">Portfolio</a></li>
					<li><a href="#" style="--navAni:5">Contact</a></li>
					<li>
						<a href="#book" style="--navAni:6" id="bookTab">Book</a>
					</li>
				</ul>
				<label class="mode">
					<input type="checkbox" id="darkModeToggle" />
					<i class="bx bxs-moon"></i>
				</label>
			</div>
		</header>

		<section class="container" id="mainSection">
			<div class="main">
				<div class="images">
					<img src="person.png" alt="" class="img-w" />
					<span class="bg-effect-1">
						<span class="bg-effect-1"></span>
					</span>
				</div>
				<div class="detail">
					<h3>Hi, I'm</h3>
					<h1><span style="color:#f9532d;">Sim</span> Jia Ming</h1>
					<p>
						Senior Computer Science student deeply dedicated to the
						craft of software engineering. I am driven by the desire
						to effect positive change in the world through
						innovative software development.
					</p>
					<br />
					<span style="color:#f9532d;"
						>(This page is still under development, please check out
						my linkedin for more information)</span
					>
					<div class="social">
						<a
							href="https://www.linkedin.com/in/sim-jia-ming/"
							target="_blank"
							style="--socialAni:1"
							><i class="bx bxl-linkedin"></i
						></a>
						<a
							href="https://github.com/SimJM"
							style="--socialAni:3"
							target="_blank"
							><i class="bx bxl-github"></i
						></a>
						<a
							href="https://www.instagram.com/jiamingsim/"
							target="_blank"
							style="--socialAni:2"
							><i class="bx bxl-instagram"></i
						></a>
					</div>
				</div>
			</div>
		</section>
		<section
			class="container"
			id="bookSection"
			style="display:none; text-align:center; margin-top:40px;">
			<button
				id="bookNowBtn"
				style="padding: 1em 2em; font-size: 1.2em; background: #f9532d; color: white; border: none; border-radius: 8px; cursor: pointer;">
				Book Now
			</button>
		</section>

		<script src="index.js"></script>
		<script>
			// Tab switching logic
			const homeTab = document.getElementById('homeTab');
			const bookTab = document.getElementById('bookTab');
			const mainSection = document.getElementById('mainSection');
			const bookSection = document.getElementById('bookSection');

			homeTab.addEventListener('click', function(e) {
				e.preventDefault();
				homeTab.classList.add('active');
				bookTab.classList.remove('active');
				mainSection.style.display = '';
				bookSection.style.display = 'none';
			});

			bookTab.addEventListener('click', function(e) {
				e.preventDefault();
				homeTab.classList.remove('active');
				bookTab.classList.add('active');
				mainSection.style.display = 'none';
				bookSection.style.display = '';
				// No date input to set
			});

			function getDateTwoWeeksFromToday() {
				const today = new Date();
				today.setDate(today.getDate() + 14);
				const yyyy = today.getFullYear();
				const mm = String(today.getMonth() + 1).padStart(2, '0');
				const dd = String(today.getDate()).padStart(2, '0');
				return `${yyyy}-${mm}-${dd}`;
			}

			function getTimeslotTimestamps(dateStr) {
				// dateStr in 'YYYY-MM-DD'
				const [year, month, day] = dateStr.split('-').map(Number);
				const ts2000 = new Date(year, month - 1, day, 20, 0, 0, 0).getTime();
				const ts2100 = new Date(year, month - 1, day, 21, 0, 0, 0).getTime();
				return [ts2000, ts2100];
			}

			const bookNowBtn = document.getElementById('bookNowBtn');
			bookNowBtn.addEventListener('click', function() {
				const venue = "cRyHuTcU77VZY7Er3jVf5"; // Sengkang Sports Hall
				const activity = "YLONatwvqJfikKOmB5N9U"; // Badminton
				const date = getDateTwoWeeksFromToday();
				const [ts2000, ts2100] = getTimeslotTimestamps(date);
				const url = `https://activesg.gov.sg/venues/${venue}/activities/${activity}/timeslots?date=${date}&timeslots=${ts2000}&timeslots=${ts2100}`;
				window.location.href = url;
			});

			window.addEventListener('DOMContentLoaded', function() {
				if (window.location.hash === '#book') {
					homeTab.classList.remove('active');
					bookTab.classList.add('active');
					mainSection.style.display = 'none';
					bookSection.style.display = '';
				}
			});
		</script>
	</body>
</html>
